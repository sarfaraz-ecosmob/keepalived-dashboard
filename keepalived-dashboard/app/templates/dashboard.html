<!DOCTYPE html>
<html>
<head>
    <title>Keepalived Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body class="bg-white">
<nav class="navbar navbar-light bg-light px-3">
    <span class="navbar-brand">Keepalived Dashboard</span>
    <span>Welcome {{ user }} | <a href="/logout">Logout</a></span>
</nav>
<div class="container mt-4">

    <h3>VIP Status</h3>
    <div class="alert alert-info">{{ local_info.vip_status }}</div>

    <h4 class="mt-4">Keepalived Nodes</h4>
    <div class="row">
        <div class="col-md-6">
            <div class="card p-3 mb-3 shadow-sm">
                <h5>Local Node: {{ local_info.hostname }}</h5>
                <p><strong>Interface:</strong> {{ local_info.interface }} ({{ local_info.interface_status }})</p>
                <p><strong>Keepalived Role:</strong> {{ local_info.keepalived_role }}</p>
                <p><strong>VIP:</strong> {{ local_info.vip_status }}</p>
            </div>
        </div>
        <div class="col-md-6">
            {% if remote_info.error %}
                <div class="alert alert-danger mt-3">Error contacting remote node: {{ remote_info.error }}</div>
            {% else %}
                <div class="card p-3 mb-3 shadow-sm">
                    <h5>Remote Node: {{ remote_info.hostname }}</h5>
                    <p><strong>Interface:</strong> {{ remote_info.interface }} ({{ remote_info.interface_status }})</p>
                    <p><strong>Keepalived Role:</strong> {{ remote_info.keepalived_role }}</p>
                    <p><strong>VIP:</strong> {{ remote_info.vip_status }}</p>
                </div>
            {% endif %}
        </div>
    </div>

   <!-- <h4 class="mt-4">Keepalived Configuration</h4>
   <pre class="border p-3 bg-light">{{ keepalived_conf }}</pre> -->

</div>
</body>
</html>

